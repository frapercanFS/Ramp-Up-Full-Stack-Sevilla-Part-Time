<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />
    <link rel="stylesheet" href="canales.css" />
    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script>
  </head>
  <body>
    <div id="map"></div>
  </body>

  <script>
    let coordenadas = [latitud, longitud];
    navigator.geolocation.getCurrentPosition((position) => {
      let latitud = position.coords.latitude;
      let longitud = position.coords.longitude;
      console.log(latitud, longitud);
      const mapId = "map";
      const map = L.map(mapId).setView([latitud, longitud], 13);
      const accessToken =
        "pk.eyJ1IjoiZnJhcGVyY2FuIiwiYSI6ImNsNTJwcm9oZjBoczUzbHJ4aHVlNmZ1dnEifQ.Mb1jy4fBWszQerZNe3MyWQ";
      const MAPBOX_API =
        "https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}";
      const ATTRIBUTION =
        'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>';
      // Este token será el que obtengamos en la web de Mapbox
      const ACCESS_TOKEN =
        "pk.eyJ1IjoiY2Nhc3RpbGxvMDZtYiIsImEiOiJja2k1eXpybXU3em1mMnRsNjNqajJ0YW12In0.aFQJlFDBDQeUpLHT4EiRYg";
      L.tileLayer(MAPBOX_API, {
        attribution: ATTRIBUTION,
        maxZoom: 18,
        id: "mapbox/streets-v11",
        tileSize: 512,
        zoomOffset: -1,
        accessToken: ACCESS_TOKEN,
      }).addTo(map);

      // Añadimos el marcador a nuestra posición inicial
      L.marker([latitud, longitud]).bindPopup("Mi posicion").addTo(map);
    });
  </script>
</html>
